(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const k=document.querySelectorAll(".toggle-icon"),p=document.querySelector("#root"),l=document.querySelector('[data-input="input-field"]'),f=document.querySelector("#tasks__ul"),y=document.querySelector(".count-tasks"),h=document.querySelector(".clear-btn"),u=document.querySelectorAll(".filter-btn"),m=()=>{p.classList.toggle("dark");const e=p.classList.contains("dark");i("darkTheme",e)},c=e=>{const s=localStorage.getItem(e);return s?JSON.parse(s):null},i=(e,s)=>{localStorage.setItem(e,JSON.stringify(s))},v=e=>{if(!confirm("Are you sure you want to delete this task?"))return;const t=c("tasks")||[];t.splice(e,1),i("tasks",t),a(t)},g=e=>{const s=c("tasks")||[];s[e].isCompleted=!s[e].isCompleted,i("tasks",s),a(s)},x=()=>{const e=l.value.trim();if(!e){alert("Please Enter a task");return}const s={text:e,isCompleted:!1,id:Date.now()},t=c("tasks")||[];t.unshift(s),i("tasks",t),a(t),l.value="",l.focus()},a=e=>{if(e.length===0){f.innerHTML=`
        <li class="text-center text-gray-600 font-medium text-sm my-2">
          <img class="h-44 grayscale-100 opacity-50 mx-auto pt-2" src="./assets/icon-empty.svg"
            alt="empty state">
          <p>Add your first task above!</p>
        </li>
    `;return}let s="";e.forEach(t=>{const o=e.findIndex(r=>r.id===t.id);s+=`
    <li draggable="true" class="task-list flex items-center gap-4 py-3 px-5 border-b border-gray-300 group dark:border-purple-800 cursor-grab">
          <div
            class="task-list__checkbox ${t.isCompleted?"bg-linear-to-br from-linear-from to-linear-to":""} flex items-center rounded-full border-2 border-gray-300 p-1 cursor-pointer group-hover:border-linear-to transition-all dark:border-purple-800" role="button" tabindex="0" data-index="${o}">
            <svg class="checkbox-img stroke-white dark:stroke-navy-900 fill-none stroke-2 w-[10px] h-[10px]"
              xmlns="http://www.w3.org/2000/svg" width="11" height="9">
              <path d="M1 4.304L3.696 7l6-6" />
            </svg>
          </div>
          <p class="${t.isCompleted?"line-through text-gray-300 dark:text-purple-600":""} text-sm flex-1 dark:text-purple-300 dark:hover:text-purple-100">${t.text}</p>
          <img class="task-list__delete w-4 h-4 cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity"
            src="./assets/icon-cross.svg" alt="delete icon" data-index="${o}">
        </li>
  `,f.innerHTML=s}),q(),E()},E=()=>{const s=c("tasks").filter(t=>!t.isCompleted).length;y.textContent=`${s} items left`},b=()=>{const e=c("tasks"),s=e.filter(t=>!t.isCompleted);i("tasks",s),a(e)},L=e=>{const s=c("tasks"),t=e.target.dataset.value;if(t==="Active"){const o=s.filter(r=>!r.isCompleted);a(o)}else if(t==="Completed"){const o=s.filter(r=>r.isCompleted);a(o)}else t==="All"&&a(s)},T=(e,s)=>{e=Number(e),s=Number(s);const t=c("tasks")||[],o=t[e];t.splice(e,1),t.splice(s,0,o),i("tasks",t),a(t)},S=()=>{c("darkTheme")&&m();const e=c("tasks");a(e)},q=()=>{document.querySelectorAll(".task-list__delete").forEach(t=>{t.addEventListener("click",o=>{const r=parseInt(o.target.dataset.index);v(r)})}),document.querySelectorAll(".task-list__checkbox").forEach(t=>{t.addEventListener("click",o=>{const r=parseInt(o.currentTarget.dataset.index);g(r)})}),document.querySelectorAll(".task-list__checkbox").forEach(t=>{t.addEventListener("keydown",o=>{const r=parseInt(o.currentTarget.dataset.index);o.key==="Enter"&&g(r)})});let e=null,s=null;document.querySelectorAll(".task-list").forEach((t,o)=>{t.dataset.index=o,t.addEventListener("dragstart",r=>{e=r.target.dataset.index,r.target.classList.add("opacity-50")}),t.addEventListener("dragover",r=>{r.preventDefault()}),t.addEventListener("drop",r=>{s=r.currentTarget.dataset.index,r.target.classList.remove("opacity-50"),T(e,s)})})},w=()=>{k.forEach(e=>{e.addEventListener("click",m)}),l.addEventListener("keydown",e=>{e.key==="Enter"&&x()}),h.addEventListener("click",()=>b()),u.forEach(e=>{e.addEventListener("click",()=>{u.forEach(s=>s.classList.remove("text-blue-500")),e.classList.add("text-blue-500")})}),u.forEach(e=>{e.addEventListener("click",s=>{L(s)})})};S();w();
